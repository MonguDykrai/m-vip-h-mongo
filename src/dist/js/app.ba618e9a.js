(function(t){function e(e){for(var n,i,s=e[0],p=e[1],c=e[2],l=0,h=[];l<s.length;l++)i=s[l],r[i]&&h.push(r[i][0]),r[i]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(t[n]=p[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var p=a[s];0!==r[p]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=p;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},5434:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"/"===this.$route.path,expression:"this.$route.path === '/'"}],attrs:{to:"/register"}},[t._v("注册")]),a("router-view")],1)},o=[],i={name:"app",components:{},data:function(){return{}}},s=i,p=(a("034f"),a("2877")),c=Object(p["a"])(s,r,o,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,l=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"logo-wrapper"},[a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(e){return e.stopPropagation(),t.closeCurrView(e)}}}),a("div",{staticClass:"logo"}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.appearWarningMsg,expression:"appearWarningMsg"}],staticClass:"warning"},[a("font-awesome-icon",{attrs:{icon:"times-circle"}}),a("span",[t._v(t._s(t.warningMsg))])],1)],1),a("div",{staticClass:"phone-wrapper"},[a("label",{attrs:{for:"phone"}},[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{type:"tel",placeholder:"请输入手机号",id:"phone",maxlength:"11",autocomplete:"off"},domProps:{value:t.phoneNumber},on:{input:[function(e){e.target.composing||(t.phoneNumber=e.target.value)},function(e){return e.stopPropagation(),t.iptPhoneNumber(e)}],focus:function(e){return e.stopPropagation(),t.focusPhoneNumber(e)},blur:function(e){return e.stopPropagation(),t.blurPhoneNumber(e)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.appearPhoneNumberClearBtn,expression:"appearPhoneNumberClearBtn"}],attrs:{icon:"times-circle"},on:{click:function(e){return e.stopPropagation(),t.clearPhoneNumber(e)}}})],1),a("div",{staticClass:"captcha-wrapper"},[a("label",{attrs:{for:"captcha"}},[t._v("验证码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],ref:"captchaInput",attrs:{type:"tel",placeholder:"请输入验证码",id:"captcha",maxlength:"6",autocomplete:"off"},domProps:{value:t.captcha},on:{input:[function(e){e.target.composing||(t.captcha=e.target.value)},function(e){return e.stopPropagation(),t.iptCaptcha(e)}],focus:function(e){return e.stopPropagation(),t.focusCaptcha(e)},blur:function(e){return e.stopPropagation(),t.blurCaptcha(e)}}}),a("button",{class:{"get-captcha-disabled":t.getCaptchaDisabled},attrs:{disabled:t.getCaptchaDisabled},on:{click:function(e){return e.stopPropagation(),t.getCaptcha(e)}}},[t._v("\n      "+t._s(t.getCaptchaTxt)+"\n    ")]),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.appearCaptchaClearBtn,expression:"appearCaptchaClearBtn"}],attrs:{icon:"times-circle"},on:{click:function(e){return e.stopPropagation(),t.clearCaptcha(e)}}})],1),a("div",{staticClass:"login-button-wrapper"},[a("button",{class:{"login-btn-disabled":t.loginBtnDisabled},attrs:{disabled:t.loginBtnDisabled},on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[t._v("手机号注册登录")])]),t._m(0),t._m(1)])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"term-wrapper"},[a("p",[t._v("同意《唯品会服务条款》、《隐私条款》、《唯品支付用户服务协议》、《唯品信用服务协议》")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",[a("legend",[t._v("或")]),a("button",{attrs:{disabled:""}},[t._v("密码登录")])])}],d={name:"register",props:{},data:function(){return{phoneNumber:null,captcha:"",arrivedCaptcha:"",captchaRequested:!1,getCaptchaDisabled:!0,getCaptchaTxt:"获取验证码",sandClock:0,warningMsg:"",appearWarningMsg:!1,appearPhoneNumberClearBtn:!1,appearCaptchaClearBtn:!1,loginBtnDisabled:!0,ip:"47.98.145.59:9090"}},methods:{getCaptcha:function(){var t=this,e=this.phoneNumber,a=this.ip,n=this.$tools.isValidPhoneNumber;if(!n(e))return this.appearWarningMsg=!0,void(this.warningMsg="手机号码格式错误");this.appearWarningMsg=!1,fetch("http://".concat(a,"/get-captcha"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({phoneNumber:e})}).then(function(t){return t.json()}).then(function(e){var a=e.code;if(1===a){var n=e.data,r=n.captcha,o=n.interval;t.arrivedCaptcha=r,t.captchaRequested=!0,t.sandClock=o-1,t.getCaptchaDisabled=!0,t.$refs.captchaInput.focus(),t.getCaptchaTxt="".concat(t.sandClock,"秒后重新获取");var i=setInterval(function(){if(t.sandClock<=0)return t.getCaptchaTxt="重新获取",""!==t.phoneNumber&&(t.getCaptchaDisabled=!1),void clearInterval(i);--t.sandClock,t.getCaptchaTxt="".concat(t.sandClock,"秒后重新获取")},1e3)}})},login:function(){var t=this,e=this.captcha,a=this.phoneNumber,n=this.ip,r=this.$tools.isValidPhoneNumber;if(!r(a))return this.appearWarningMsg=!0,void(this.warningMsg="手机号格式错误");fetch("http://".concat(n,"/login"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({phoneNumber:a,captcha:e})}).then(function(t){return t.json()}).then(function(e){var a=e.msg,n=e.code;return 0==n?(t.appearWarningMsg=!0,void(t.warningMsg=a)):400==n?(t.appearWarningMsg=!0,void(t.warningMsg=a)):void t.$router.push({path:"/"})})},closeCurrView:function(){this.$router.push({path:"/"})},iptPhoneNumber:function(t){var e=t.target.value;if(this.appearPhoneNumberClearBtn=!1,""!==e)return this.appearPhoneNumberClearBtn=!0,this.appearWarningMsg=!1,this.getCaptchaDisabled=!1,void(""!==this.captcha&&(this.loginBtnDisabled=!1));this.loginBtnDisabled=!0,this.getCaptchaDisabled=!0},iptCaptcha:function(t){var e=t.target.value;if(this.appearCaptchaClearBtn=!1,""!==e)return this.appearCaptchaClearBtn=!0,this.appearWarningMsg=!1,void(""!==this.phoneNumber&&(this.loginBtnDisabled=!1));this.loginBtnDisabled=!0},focusPhoneNumber:function(){var t=this.phoneNumber;t&&(this.appearPhoneNumberClearBtn=!0)},focusCaptcha:function(){var t=this.captcha;t&&(this.appearCaptchaClearBtn=!0)},blurPhoneNumber:function(){this.appearPhoneNumberClearBtn=!1},blurCaptcha:function(){this.appearCaptchaClearBtn=!1},clearPhoneNumber:function(){this.phoneNumber="",this.appearPhoneNumberClearBtn=!1,this.warningMsg="",this.appearWarningMsg=!1,this.loginBtnDisabled=!0,this.getCaptchaDisabled=!0},clearCaptcha:function(){this.captcha="",this.appearCaptchaClearBtn=!1,this.warningMsg="",this.appearWarningMsg=!1,this.loginBtnDisabled=!0}}},g=d,v=(a("8ffd"),Object(p["a"])(g,h,f,!1,null,"66522226",null));v.options.__file="Register.vue";var b=v.exports;n["a"].use(l["a"]);var m=[{path:"/register",component:b}],C=new l["a"]({mode:"history",routes:m}),w=a("ecee"),N=a("c074"),P=a("ad3d"),_={isValidPhoneNumber:function(t){return/^(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$/.test(t)}},y=_;a("5434"),a("bc24");w["c"].add(N["a"]),w["c"].add(N["b"]),n["a"].component("font-awesome-icon",P["a"]),n["a"].config.productionTip=!1,n["a"].prototype.$tools=y,new n["a"]({el:"#app",router:C,components:{App:u},template:"<App/>"})},"64a9":function(t,e,a){},"82c1":function(t,e,a){},"8ffd":function(t,e,a){"use strict";var n=a("82c1"),r=a.n(n);r.a},bc24:function(t,e,a){}});
//# sourceMappingURL=app.ba618e9a.js.map