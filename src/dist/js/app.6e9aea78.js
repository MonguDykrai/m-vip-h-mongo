(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,h=[];u<s.length;u++)o=s[u],r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"043e":function(t,e,a){},"2d02":function(t,e,a){},3924:function(t,e,a){t.exports=a.p+"img/img-brand-ad.38eeea96.jpg"},5434:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-home"),a("router-view"),"/"===this.$route.path?a("router-link",{attrs:{to:"/user-fav",exact:""}},[t._v("我的收藏")]):t._e(),a("br"),a("button",{directives:[{name:"show",rawName:"v-show",value:"/"===this.$route.path,expression:"this.$route.path === '/'"}],staticStyle:{"font-size":"30px"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("退出")])],1)},i=[],o=(a("a78e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return"/"===this.$route.path?a("div",{attrs:{id:"home"}},[t.showBanner?a("div",{staticClass:"download-banner"},[a("span",{staticClass:"btn-close",on:{click:t.closeDownloadBanner}},[a("i",{staticClass:"iconfont icon-close"})])]):t._e(),a("div",{staticClass:"search-wrapper"},[a("div",{staticClass:"left"},[a("router-link",{staticClass:"login",attrs:{to:"/register"}},[t._v("登录")])],1),t._m(0),a("div",{staticClass:"right"},[a("router-link",{staticClass:"classify",attrs:{to:""}},[a("i")])],1)]),a("div",{staticClass:"tab-bar"},[a("div",{ref:"tbIscrollWrapper",staticClass:"iscroll-wrapper"},[a("div",{ref:"tbScroller",staticClass:"scroller"},[a("ul",{ref:"tbUL"},[t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9)])]),a("div",{ref:"tbMore",staticClass:"more"},[t._v("↓")])])]),t._m(10)]):t._e()}),s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"middle"},[a("input",{attrs:{type:"search",placeholder:"搜索品牌或商品",maxlength:"20",autocomplete:"off"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("今日推荐")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("最后疯抢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("时尚")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("美妆")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("母婴")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("家电")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("家居")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("国际")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript: void(0);"}},[t._v("生活")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"brand-ad"},[n("img",{attrs:{src:a("3924"),alt:""}})])}],c=(a("c5f6"),a("ac6a"),a("5df3"),a("1c4c"),a("8902")),l=a.n(c),p={name:"home",data:function(){return{showBanner:!0,ulTotalLength:0}},created:function(){},mounted:function(){this.initIScroll()},updated:function(){this.initIScroll()},methods:{initIScroll:function(){var t=this.ulTotalLength,e=this.$refs,a=e.tbIscrollWrapper,n=e.tbScroller,r=e.tbUL,i=e.tbMore,o=Array.from(r.children);o.forEach(function(e){var a=Number(window.getComputedStyle(e).marginLeft.slice(0,-2)),n=Number(window.getComputedStyle(e).marginRight.slice(0,-2)),r=Number(window.getComputedStyle(e).width.slice(0,-2)),i=a+n+r;t+=i});var s=Number(window.getComputedStyle(i).width.slice(0,-2));t+=s,n.style.width="".concat(t,"px");new l.a(a,{scrollX:!0,scrollY:!1,mouseWheel:!0})},closeDownloadBanner:function(){console.log(this),console.log(this.$refs),this.showBanner=!1}}},u=p,h=(a("842f"),a("2877")),f=Object(h["a"])(u,o,s,!1,null,"50d50be4",null);f.options.__file="Home.vue";var d=f.exports,m={name:"app",components:{AppHome:d},data:function(){return{}},methods:{logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("status")}}},v=m,g=(a("034f"),Object(h["a"])(v,r,i,!1,null,null,null));g.options.__file="App.vue";var b=g.exports,_=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",[a("div",{attrs:{id:"register"}},[a("div",{staticClass:"logo-wrapper"},[a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(e){return e.stopPropagation(),t.closeCurrView(e)}}}),a("div",{staticClass:"logo"}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.appearWarningMsg,expression:"appearWarningMsg"}],staticClass:"warning"},[a("font-awesome-icon",{attrs:{icon:"times-circle"}}),a("span",[t._v(t._s(t.warningMsg))])],1)],1),a("div",{staticClass:"phone-wrapper"},[a("label",{attrs:{for:"phone"}},[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{type:"tel",placeholder:"请输入手机号",id:"phone",maxlength:"11",autocomplete:"off"},domProps:{value:t.phoneNumber},on:{input:[function(e){e.target.composing||(t.phoneNumber=e.target.value)},function(e){return e.stopPropagation(),t.iptPhoneNumber(e)}],focus:function(e){return e.stopPropagation(),t.focusPhoneNumber(e)},blur:function(e){return e.stopPropagation(),t.blurPhoneNumber(e)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.appearPhoneNumberClearBtn,expression:"appearPhoneNumberClearBtn"}],attrs:{icon:"times-circle"},on:{click:function(e){return e.stopPropagation(),t.clearPhoneNumber(e)}}})],1),a("div",{staticClass:"captcha-wrapper"},[a("label",{attrs:{for:"captcha"}},[t._v("验证码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],ref:"captchaInput",attrs:{type:"tel",placeholder:"请输入验证码",id:"captcha",maxlength:"6",autocomplete:"off"},domProps:{value:t.captcha},on:{input:[function(e){e.target.composing||(t.captcha=e.target.value)},function(e){return e.stopPropagation(),t.iptCaptcha(e)}],focus:function(e){return e.stopPropagation(),t.focusCaptcha(e)},blur:function(e){return e.stopPropagation(),t.blurCaptcha(e)}}}),a("button",{class:{"get-captcha-disabled":t.getCaptchaDisabled},attrs:{disabled:t.getCaptchaDisabled},on:{click:function(e){return e.stopPropagation(),t.getCaptcha(e)}}},[t._v("\n        "+t._s(t.getCaptchaTxt)+"\n      ")]),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.appearCaptchaClearBtn,expression:"appearCaptchaClearBtn"}],attrs:{icon:"times-circle"},on:{click:function(e){return e.stopPropagation(),t.clearCaptcha(e)}}})],1),a("div",{staticClass:"login-button-wrapper"},[a("button",{class:{"login-btn-disabled":t.loginBtnDisabled},attrs:{disabled:t.loginBtnDisabled},on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[t._v("手机号注册登录")])]),a("div",{staticClass:"term-wrapper"},[a("p",[t._v("同意《唯品会服务条款》、《隐私条款》、《唯品支付用户服务协议》、《唯品信用服务协议》")])]),a("fieldset",[a("legend",[t._v("或")]),a("button",{attrs:{disabled:""}},[t._v("密码登录")])])])])},w=[],N=(a("28a5"),{isValidPhoneNumber:function(t){return/^(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$/.test(t)},getIp:function(){var t=location.host.split(":")[1];return"8080"===t?"localhost:9090":location.host}}),P=N,y=P.getIp(),j={name:"register",props:{},data:function(){return{phoneNumber:null,captcha:"",arrivedCaptcha:"",captchaRequested:!1,getCaptchaDisabled:!0,getCaptchaTxt:"获取验证码",sandClock:0,warningMsg:"",appearWarningMsg:!1,appearPhoneNumberClearBtn:!1,appearCaptchaClearBtn:!1,loginBtnDisabled:!0}},methods:{getCaptcha:function(){var t=this,e=this.phoneNumber,a=this.$_m_tools.isValidPhoneNumber;if(!a(e))return this.appearWarningMsg=!0,void(this.warningMsg="手机号码格式错误");this.appearWarningMsg=!1,fetch("http://".concat(y,"/get-captcha"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({phoneNumber:e})}).then(function(t){return t.json()}).then(function(e){var a=e.code;if(1===a){var n=e.data,r=n.captcha,i=n.interval;t.arrivedCaptcha=r,t.captchaRequested=!0,t.sandClock=i-1,t.getCaptchaDisabled=!0,t.$refs.captchaInput.focus(),t.getCaptchaTxt="".concat(t.sandClock,"秒后重新获取");var o=setInterval(function(){if(t.sandClock<=0)return t.getCaptchaTxt="重新获取",""!==t.phoneNumber&&(t.getCaptchaDisabled=!1),void clearInterval(o);--t.sandClock,t.getCaptchaTxt="".concat(t.sandClock,"秒后重新获取")},1e3)}})},login:function(){var t=this,e=this.captcha,a=this.phoneNumber,n=this.$_m_tools.isValidPhoneNumber;if(!n(a))return this.appearWarningMsg=!0,void(this.warningMsg="手机号格式错误");fetch("http://".concat(y,"/login"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({phoneNumber:a,captcha:e})}).then(function(t){return t.json()}).then(function(e){var a=e.msg,n=e.code,r=e.token,i=e.status;return 0==n?(t.appearWarningMsg=!0,void(t.warningMsg=a)):400==n?(t.appearWarningMsg=!0,void(t.warningMsg=a)):(r&&(localStorage.setItem("jwt",r),localStorage.setItem("status",i)),void t.$router.push({path:"/"}))})},closeCurrView:function(){this.$router.push({path:"/"})},iptPhoneNumber:function(t){var e=t.target.value;if(this.appearPhoneNumberClearBtn=!1,""!==e)return this.appearPhoneNumberClearBtn=!0,this.appearWarningMsg=!1,this.getCaptchaDisabled=!1,void(""!==this.captcha&&(this.loginBtnDisabled=!1));this.loginBtnDisabled=!0,this.getCaptchaDisabled=!0},iptCaptcha:function(t){var e=t.target.value;if(this.appearCaptchaClearBtn=!1,""!==e)return this.appearCaptchaClearBtn=!0,this.appearWarningMsg=!1,void(""!==this.phoneNumber&&(this.loginBtnDisabled=!1));this.loginBtnDisabled=!0},focusPhoneNumber:function(){var t=this.phoneNumber;t&&(this.appearPhoneNumberClearBtn=!0)},focusCaptcha:function(){var t=this.captcha;t&&(this.appearCaptchaClearBtn=!0)},blurPhoneNumber:function(){this.appearPhoneNumberClearBtn=!1},blurCaptcha:function(){this.appearCaptchaClearBtn=!1},clearPhoneNumber:function(){this.phoneNumber="",this.appearPhoneNumberClearBtn=!1,this.warningMsg="",this.appearWarningMsg=!1,this.loginBtnDisabled=!0,this.getCaptchaDisabled=!0},clearCaptcha:function(){this.captcha="",this.appearCaptchaClearBtn=!1,this.warningMsg="",this.appearWarningMsg=!1,this.loginBtnDisabled=!0}}},B=j,x=(a("89cf"),Object(h["a"])(B,C,w,!1,null,"41ee520c",null));x.options.__file="Register.vue";var I=x.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",[a("div",{attrs:{id:"favorite"}},[a("ul",[a("li",[a("a",{attrs:{href:"javascript: void(0);","data-item-name":"product"},on:{click:t.switchItem}},[t._v("商品")])]),a("li",[a("a",{attrs:{href:"javascript: void(0);","data-item-name":"brand"},on:{click:t.switchItem}},[t._v("品牌")])]),a("li",[a("a",{attrs:{href:"javascript: void(0);","data-item-name":"store"},on:{click:t.switchItem}},[t._v("店铺")])])]),a("img",{staticStyle:{width:"100%"},attrs:{src:t.list[0].imgUrl,alt:""}}),a("router-link",{attrs:{to:"/"}},[t._v("首页")])],1)])},S=[],M=a("bc3a"),k=a.n(M),D=P.getIp(),E={name:"UserFav",beforeRouteEnter:function(t,e,a){var n=localStorage.getItem("status");n?a():a("/")},data:function(){return{selectedItem:"product",list:[{imgUrl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1542778825696&di=e8b01245a6eeae45c802d8f31186a154&imgtype=0&src=http%3A%2F%2Fwww.51pptmoban.com%2Fd%2Ffile%2F2015%2F06%2F02%2Ff7831ca87e3ffe9f80ed586391a901fd.jpg"}]}},created:function(){this.getItem()},methods:{switchItem:function(t){var e=t.target.dataset.itemName;console.log(e),this.selectedItem=e,this.getItem()},getItem:function(){var t=this,e=this.selectedItem;k.a.get("http://".concat(D,"/get-fav-").concat(e),{headers:{authorization:localStorage.getItem("jwt")}}).then(function(e){console.log(e),t.list=e.data.datas})}}},O=E,W=(a("e8a2"),Object(h["a"])(O,$,S,!1,null,"f0228ee0",null));W.options.__file="UserFav.vue";var T=W.exports;n["a"].use(_["a"]);var F=[{path:"/register",component:I},{path:"/user-fav",component:T}],A=new _["a"]({mode:"history",routes:F}),U=a("2f62");n["a"].use(U["a"]);var L=new U["a"].Store({state:{count:0,count2:1e4},mutations:{increment:function(t){return t.count++},decrement:function(t){return t.count--}}}),R=a("ecee"),V=a("c074"),J=a("ad3d");a("043e"),a("5434"),a("bc24");R["c"].add(V["a"]),R["c"].add(V["b"]),n["a"].component("font-awesome-icon",J["a"]),n["a"].config.productionTip=!1,n["a"].prototype.$_m_tools=P,new n["a"]({el:"#app",router:A,store:L,components:{App:b},template:"<App/>"})},"64a9":function(t,e,a){},"842f":function(t,e,a){"use strict";var n=a("9b6d"),r=a.n(n);r.a},"89cf":function(t,e,a){"use strict";var n=a("2d02"),r=a.n(n);r.a},"9b6d":function(t,e,a){},bc24:function(t,e,a){},d466:function(t,e,a){},e8a2:function(t,e,a){"use strict";var n=a("d466"),r=a.n(n);r.a}});
//# sourceMappingURL=app.6e9aea78.js.map